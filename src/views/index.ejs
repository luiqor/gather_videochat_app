<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include ('partials/head.ejs') %>
    <title>GatherSpace | index</title>
    <script>
      const SPACE_ID = "<%= spaceId %>";
      const spaceAlreadyExists = "<%= spaceAlreadyExists %>";
    </script>
  </head>
  <body>
    <%- include ('partials/header.ejs') %>
    <main>
      <section class="space-title">
        <div class="space-title__inner-container landing-container">
          <div class="space-title__text-container">
            <h1>GatherSpace</h1>
            <p>
              Gather space is a video conferencing app with a built-in chat. It
              allows users to connect to the space and start a call with their
              peers or join the space using a space-code.
            </p>
          </div>
          <div class="space-title__graphics-container">
            <img
              src="/assets/icons/gather-space.svg"
              alt="gather space galaxy"
            />
          </div>
        </div>
      </section>
      <section class="join-immediately">
        <div class="landing-container">
          <div class="join-immediately__container">
            <h2 class="join-immediately__title">
              Create space immediately! Share link or code with peer's
            </h2>
            <div class="join-immediately__content">
              <div>
                <label for="space-slug-input"></label>
                <div class="join-immediately__form-group">
                  <input
                    id="space-slug-input"
                    class="form-input"
                    type="text"
                    maxlength="36"
                    value="<%= spaceId %>"
                    style="border-radius: 6px"
                  />
                  <button id="generate-code-button" class="accent-button" onclick="location.href='/';">
                    <i class="material-icons">shuffle</i>
                  </button>
                  <button id="create-space-button" class="accent-button"> 
                    Create Space
                  </button>
                </div>
              </div>
              <p class="attention-p" id="invalid-space-message">
                <% if (spaceAlreadyExists) { %>
                Sorry. Name <%= spaceId %> for a space is already taken...
                <% } %>
              </p>
            </div>
          </div>
        </div>
      </section>
      <section class="join-options-cards">
        <div class="join-options-cards__container landing-container">
          <div
            class="join-options-cards__card join-options-cards__clickable-card"
            id="join-space-card"
            onclick="location.href='/join-space'"
          >
            <div class="join-options-cards__icon_holder">
              <i class="material-icons join-options-cards__icon">duo</i>
            </div>
            <h3>Join the space</h3>
            <p>
              Join the space using a space code. You can join the space by
              entering the space code, which your peer sended to you.
            </p>
          </div>
          <div class="join-options-cards__card" id="plan-gathering-card">
            <div class="planned-gatherings__container">
              <div class="planned-gatherings__introduction">
                <h2 id="time" class="planned-gatherings__time"></h2>
                <p id="date" class="planned-gatherings__date"></p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <%- include ('partials/footer.ejs') %>
    <script type="module" src="/js/index.js"></script>
  </body>
</html>
